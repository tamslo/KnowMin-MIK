# run get_testset.sql

mysql --host=141.89.225.50 --port=3306 --database=knowmin --user=knowmin --password='bQRr2_#"XA3v8h-S' < get_testset.sql

# and after that run

mysql --host=141.89.225.50 --port=3306 --database=knowmin --user=knowmin --password='bQRr2_#"XA3v8h-S' -B -e "select * from TS_dist_categories_original" | sed "s/',/\\\',/g;s/\t/','/g;s/^/'/;s/$/'/;s/\n//g; s/''/\\\''/g; s/'_/\\\'_/g;" >test_categories.csv 
mysql --host=141.89.225.50 --port=3306 --database=knowmin --user=knowmin --password='bQRr2_#"XA3v8h-S' -B -e "select * from TS_statements_original" | sed "s/',/\\\',/g;s/\t/','/g;s/^/'/;s/$/'/;s/\n//g; s/''/\\\''/g; s/'_/\\\'_/g;" >test_statements.csv 
sed -i 1d test_categories.csv
sed -i 1d test_statements.csv

# run all_test_remote.sql

mysql --host=141.89.225.50 --port=3306 --database=knowmin --user=knowmin --password='bQRr2_#"XA3v8h-S' --local-infile < workflow.sql

# count stuff

select subject_count, count(*) from TS_TEST_subjects_per_category_count_clear group by subject_count order by subject_count;

select count(*) from TS_TEST_suggestions_clear;

# and after that run

mysql --host=141.89.225.50 --port=3306 --database=knowmin --user=knowmin --password='bQRr2_#"XA3v8h-S' -B -e "select * from TS_TEST_suggestions_clear" > test_suggestions

# queries to run after that

select count(*) from TS_TEST_suggestions_clear;
select count(distinct category) from TS_TEST_suggestions_clear;
select category, count(distinct subject, predicate, object) from TS_TEST_suggestions_clear group by category;